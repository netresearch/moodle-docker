# direnv configuration for Moodle Docker Stack
# This file is loaded automatically by direnv when you cd into this directory
# Install direnv: https://direnv.net/

# Load .env file if it exists
dotenv_if_exists .env

# Set compose file for Traefik mode (uncomment to enable)
# export COMPOSE_FILE=compose.yml:compose.traefik.yml

# Helper functions
function moodle-help() {
  echo "Moodle Docker Stack - Quick Commands:"
  echo ""
  echo "  make help          - Show all available commands"
  echo "  make clone-moodle  - Clone Moodle repository"
  echo "  make setup         - Create .env file"
  echo "  make start         - Start the stack"
  echo "  make logs          - View logs"
  echo "  make status        - Check container status"
  echo ""
}

# Show help on first load
if [ -z "$MOODLE_DIRENV_LOADED" ]; then
  export MOODLE_DIRENV_LOADED=1
  echo "âœ… Moodle Docker environment loaded"
  echo "   Run 'moodle-help' for available commands"
fi
